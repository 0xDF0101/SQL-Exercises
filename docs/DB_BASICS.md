# 데이터베이스 기초

데이터베이스를 처음 접하는 분들을 위한 아주 가벼운 이론 요약입니다. 깊이 있는 내용보다는 실습 전에 알아두면 좋은 핵심 키워드 위주로 정리했습니다.

---

## 1. 데이터베이스란? (Database)
데이터의 집합입니다. 단순히 쌓아두는 것이 아니라, 여러 사람이나 시스템이 **공유하고 관리하기 쉬운 형태로 조직화**된 데이터의 뭉치입니다.

## 2. DBMS (Database Management System)
데이터베이스를 관리해주는 소프트웨어입니다.
- **역할**: 데이터의 삽입, 조회, 수정, 삭제를 안전하고 효율적으로 처리합니다.
- **예시**: MySQL, Oracle, PostgreSQL, SQL Server 등 (우리는 **MySQL**을 사용합니다.)

## 3. 관계형 데이터베이스 (RDB)
데이터를 **표(Table)** 형태로 관리하는 방식입니다.
- **Table (테이블)**: 행(Row)과 열(Column)로 구성된 데이터 표
- **Row (행/레코드)**: 데이터 한 건 (예: 사용자 1명의 정보)
- **Column (열/필드)**: 데이터의 속성 (예: 이름, 이메일, 나이)
- **Primary Key (기본키/PK)**: 각 행을 유일하게 식별할 수 있는 고유한 값 (예: ID)

## 4. SQL (Structured Query Language)
DBMS에게 명령을 내리기 위한 표준 언어입니다.
- **DDL (정의어)**: 테이블 구조를 만들거나 변경 (CREATE, DROP, ALTER)
- **DML (조작어)**: 데이터를 관리 (SELECT, INSERT, UPDATE, DELETE) -> **실습의 핵심!**
- **DCL (제어어)**: 권한 관리 등 (GRANT, REVOKE)

## 5. 트랜잭션과 ACID
데이터베이스의 작업 단위입니다. "전부 성공하거나, 아니면 아예 안 한 것처럼 취소하거나"가 핵심입니다.
- **A (Atomicity, 원자성)**: 작업은 하나로 묶여서 전부 실행되거나 전부 취소되어야 함 (All or Nothing)
- **C (Consistency, 일관성)**: 작업 후에도 데이터 규칙이 깨지지 않아야 함
- **I (Isolation, 격리성)**: 동시에 실행되는 작업들이 서로 방해하지 않아야 함
- **D (Durability, 지속성)**: 성공한 작업 결과는 시스템에 영구히 저장되어야 함

## 6. 인덱스 (Index)
책의 '색인'과 같습니다. 데이터를 빨리 찾기 위해 특정 컬럼을 기준으로 미리 정리해둔 주소록입니다.

### 6.1 인덱스의 작동 원리
인덱스는 보통 **B-Tree(Balanced Tree)** 구조로 관리됩니다.
- 데이터를 정렬된 상태로 유지하여, 처음부터 끝까지 다 찾는 'Full Table Scan' 대신 이진 탐색과 유사한 방식으로 빠르게 데이터를 찾아냅니다.
- 조회 시 해당 데이터가 저장된 실제 메모리/디스크상의 주소(RowID)를 바로 알려줍니다.

### 6.2 인덱스의 장단점
*   **장점**
    - `SELECT` (조회) 속도가 획기적으로 빨라집니다.
    - `WHERE` 절뿐만 아니라 `ORDER BY`(정렬), `GROUP BY`(그룹화) 작업의 효율도 높여줍니다.
*   **단점**
    - **저장 공간 필요**: 인덱스 자체를 저장하기 위한 별도의 공간(약 테이블의 10%)이 필요합니다.
    - **변경 작업 속도 저하**: 데이터 추가(`INSERT`), 수정(`UPDATE`), 삭제(`DELETE`) 시 인덱스도 매번 다시 정렬하고 갱신해야 하므로 쓰기 성능이 떨어질 수 있습니다.

### 6.3 인덱스 설계 원칙 (Best Practice)
- **언제 사용할까?**
    - 데이터 양이 많을 때 (수만 건 이상)
    - `WHERE` 절에 자주 사용되는 컬럼
    - 조인(`JOIN`)의 연결 고리가 되는 컬럼
    - 카디널리티(Cardinality)가 높은 컬럼 (중복도가 낮고 값이 다양한 컬럼, 예: 이메일, 주민번호 등)
- **언제 피할까?**
    - 데이터 양이 적을 때
    - 데이터 변경(`INSERT`, `UPDATE`, `DELETE`)이 매우 빈번할 때
    - 카디널리티가 낮은 컬럼 (중복도가 높은 컬럼, 예: 성별, 진행여부 등)
    - 사용되지 않는 인덱스는 과감히 삭제 (성능만 갉아먹음)

## 7. 정규화 (Normalization)
데이터의 중복을 제거하고 구조를 최적화하는 과정입니다. "데이터를 어디에 어떻게 잘 놔둘 것인가"에 대한 규칙입니다.

### 7.1 제1정규화 (1NF)
**규칙**: 모든 컬럼은 원자 값(Atomic Value)을 가져야 합니다. 즉, 한 칸에 여러 개의 값을 넣으면 안 됩니다.

*   **예시 (비정규형)**: `users` 테이블의 `address` 컬럼에 여러 주소가 한 번에 들어있는 경우

    | id | name | address |
    |:---|:---|:---|
    | 1 | Hudson Borer | 서울시 강남구, 경기도 성남시 |

*   **해결 (1NF 적용)**: 각 행에는 하나의 주소만 저장합니다.

    | id | name | address |
    |:---|:---|:---|
    | 1 | Hudson Borer | 서울시 강남구 |
    | 1 | Hudson Borer | 경기도 성남시 |

### 7.2 제2정규화 (2NF)
**규칙**: 제1정규화를 만족하고, 기본키의 일부분에만 의존하는 '부분 함수 종속'을 제거해야 합니다. (복합키인 경우에 주로 해당)

*   **예시 (2NF 위반)**: `orders` 테이블의 PK가 (`user_id`, `product_id`) 복합키인데, 사용자 이름(`name`) 컬럼이 같이 있는 경우

    | user_id (PK) | product_id (PK) | name | total |
    |:---|:---|:---|:---|
    | 1 | 101 | Hudson Borer | 29.46 |
    | 1 | 102 | Hudson Borer | 70.07 |
    *   `name`은 `user_id`에만 의존할 뿐, `product_id`와는 상관이 없습니다.
*   **해결 (2NF 적용)**: 테이블을 분리하여 중복을 제거합니다.
    **[users 테이블]**

    | id (PK) | name |
    |:---|:---|
    | 1 | Hudson Borer |

    **[orders 테이블]**

    | user_id (FK) | product_id | total |
    |:---|:---|:---|
    | 1 | 101 | 29.46 |
    | 1 | 102 | 70.07 |

### 7.3 제3정규화 (3NF)
**규칙**: 제2정규화를 만족하고, 기본키가 아닌 컬럼들끼리 서로 의존하는 '이행적 함수 종속'을 제거해야 합니다.

*   **예시 (3NF 위반)**: `users` 테이블에 우편번호(`zip`)와 도시(`city`) 컬럼이 있는 경우

    | id (PK) | name | zip | city |
    |:---|:---|:---|:---|
    | 1 | Hudson Borer | 68883 | Wood River |
    | 2 | Domenica Williamson | 50242 | Searsboro |

    *   `city`는 `id`에 의존하지만, 사실 `zip`에 의존하고 있습니다. (`zip` -> `city`)
*   **해결 (3NF 적용)**: 의존 관계가 있는 컬럼들을 별도 테이블로 분리합니다.
    **[users 테이블]**

    | id (PK) | name | zip (FK) |
    |:---|:---|:---|
    | 1 | Hudson Borer | 68883 |
    | 2 | Domenica Williamson | 50242 |

    **[zip_codes 테이블]**

    | zip (PK) | city |
    |:---|:---|
    | 68883 | Wood River |
    | 50242 | Searsboro |

---
**목적**: 데이터 중복 제거, 데이터 무결성(정확성) 유지, 이상 현상(삽입/삭제/수정 오류) 방지

---
이제 이 가벼운 지식을 바탕으로 [SQL 실습 가이드](SQL_TEXTBOOK.md)를 따라 실습을 시작해보세요!
